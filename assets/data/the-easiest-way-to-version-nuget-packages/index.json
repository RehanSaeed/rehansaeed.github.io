{"hash":"c48e184b5050493c7e652fe1d4f29aebe0da8413","data":{"post":{"title":"The Easiest Way to Version NuGet Packages","path":"/the-easiest-way-to-version-nuget-packages/","date":"2020-07-01T16:36:29+00:00","dateModified":null,"timeToRead":5,"author":"Muhammad Rehan Saeed","headings":[{"value":"What is Semantic Versioning?"},{"value":"Versioning the Wrong Way"},{"value":"MinVer"},{"value":"Nerdbank.GitVersioning"},{"value":"Conclusions"}],"tags":[{"id":".NET","title":".NET","path":"/tag/net/"},{"id":"NuGet","title":"NuGet","path":"/tag/nu-get/"},{"id":"MinVer","title":"MinVer","path":"/tag/min-ver/"},{"id":"Semantic Versioning","title":"Semantic Versioning","path":"/tag/semantic-versioning/"}],"description":"Using MinVer is the easiest way to version your NuGet packages and DLL's using semantic versioning (SemVer).","content":"<p>The <strong>easiest</strong> way to version NuGet packages using <a href=\"https://semver.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">semantic versioning</a> in my opinion is to use <a href=\"https://github.com/adamralph/minver\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MinVer</a>. Getting started is literally as easy as adding the <code class=\"language-text\">MinVer</code> NuGet package. Getting finished is not too much more than that.</p>\n<p>In this post I'll discuss the semantic versioning 2.0 standard and show you how you can semantically version your NuGet packages and the DLL's within them using MinVer and Git tags.</p>\n<h1 id=\"what-is-semantic-versioning\"><a href=\"#what-is-semantic-versioning\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"22\" height=\"22\" aria-hidden=\"true\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is Semantic Versioning?</h1>\n<p><a href=\"https://semver.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Semantic versioning</a> is the idea that each part of a version number has some intrinsic meaning. Lets break down an example of a full version number into it's constituent parts:</p>\n<div class=\"line-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1.2.3-preview.0.4+b34215d3d2539837ac3e20fc3111ba7d46670064</code></pre></div>\n<ul>\n<li><strong>1</strong> - The major version number. Incrementing this means that a major breaking change has occurred.</li>\n<li><strong>2</strong> - The minor version number. Incrementing this means that a non-breaking change has occurred.</li>\n<li><strong>3</strong> - The patch version number. Incrementing this means that a patch or fix has been issued for a bug.</li>\n<li><strong>preview</strong> (Optional) - This determines that the build is a pre-release build. This pre-release label is often set to <code class=\"language-text\">alpha</code> or <code class=\"language-text\">beta</code>.</li>\n<li><strong>0</strong> (Optional) - This is the pre-release version number.</li>\n<li><strong>4</strong> (Optional) - The Git height or the number of commits since the last non-pre-release build.</li>\n<li><strong>b34215d3d2539837ac3e20fc3111ba7d46670064</strong> (Optional) - The Git SHA or hash of the current commit.</li>\n</ul>\n<p>Isn't that cool! Every number in there has so much significance. Lets break it down, just by looking at version numbers we can determine:</p>\n<ul>\n<li>Whether something was fixed, enhanced or broken when comparing one version to the previous one.</li>\n<li>Whether it is a release or pre-release version.</li>\n<li>Which commit the code was built with.</li>\n<li>How many commits were made after the last release.</li>\n</ul>\n<h1 id=\"versioning-the-wrong-way\"><a href=\"#versioning-the-wrong-way\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"22\" height=\"22\" aria-hidden=\"true\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Versioning the Wrong Way</h1>\n<p>In the past I've tried to generate version numbers in quite a few different ways, none of which has been very satisfactory and none have conformed to semantic versioning 2.0. I've tried using the current date and time to generate a version number. This tells you when the package was created but nothing more.</p>\n<div class=\"line-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[Year].[Month].[Day].[Hour][Minutes]\n2020.7.2.0908</code></pre></div>\n<p>I've also generated version numbers based on the automatically incrementing continuous integration (CI) build number but how do you turn one number into three? Well in my case I hard coded a major or minor version and used the CI build number for the patch version. Using this method lets you tie a package version back to a CI build and through inference a Git commit but it's less than ideal.</p>\n<div class=\"line-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[Hard Coded].[Hard Coded].[CI Build Number]\n1.2.3</code></pre></div>\n<h1 id=\"minver\"><a href=\"#minver\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"22\" height=\"22\" aria-hidden=\"true\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MinVer</h1>\n<p>MinVer leans on Git tags to help version your NuGet packages and the assemblies within them. Lets start by adding the MinVer NuGet package to a new class library project:</p>\n<div class=\"line-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ItemGroup</span> <span class=\"token attr-name\">Label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Package References<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>PackageReference</span> <span class=\"token attr-name\">Include</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>MinVer<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">PrivateAssets</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>All<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2.3.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ItemGroup</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>We'll need an initial version number for our NuGet package, so I'll tag the current commit as <code class=\"language-text\">0.0.1</code> and push the tag to my Git repository. Then I'll build my NuGet package:</p>\n<div class=\"line-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">git tag <span class=\"token operator\">-</span>a 0<span class=\"token punctuation\">.</span>0<span class=\"token punctuation\">.</span>1 <span class=\"token operator\">-</span>m <span class=\"token string\">\"Initial\"</span>\ngit push <span class=\"token operator\">--</span>tags\ndotnet build</code></pre></div>\n<p>If you now use an IL decompiler tool like <a href=\"https://github.com/0xd4d/dnSpy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">dnSpy</a> (which is free and open source) to take a peek inside the resulting DLL, you'll notice the following version assembly level attributes have been automatically added:</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1952 1319' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-cc59c4cf0a3b2b33ca22f10b0be902e3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-cc59c4cf0a3b2b33ca22f10b0be902e3)' width='1952' height='1319' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAArCAIAAABHOBkQAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAMJUlEQVRo3s1ZWW4sSRX1GkDQbdeQ8zxFZkwZkUNV2dW2q%2bzXQgKJBiF2wBIQAj4Q6wI%2b%2bGJLnMh0%2bZWf3Q967tB1KiKcrron7nRu%2bKJ//IJ117WC7EqxafQNJqTd4lnJTUxUUuukVnGt0lolpE0bfdo0kjbdSTRewHN%2b//l59sK3IPhA2u0rue1uHqEk6/cX3fVBMq7arpUtRHIpuOy7gTZUK2wqUtaUMk4ZaSRrN2VZSy6amhFC66rOk6RIojrPm5LUFSElaeoSL9Oa1XXT1DTPiiIvv0UhVV0V%2bBZalQTzi6a7oQ3jQjPWStlp1VMm95/dMya7brPf33Hetm0/DpuaD3J7LCq232rZdoRKRkWUln5apUSUVGcwAlGk6/S46XTPmWCU4yvLojqX4qPL14IXivxcAKOazsUsL4ja4byHYaf1aLSsWZaVaVrkOcmyKk1LHHlRQAgQl3lVVU2emyUAd7J1f/83%2b%2b//8f76T%2bsv/1r/%2bV/Wn/7x0z/%2be/3whyzCn4q0YFnJX0hxNq%2bEkQ83T68Vp/2K50S8lgxS0otabT/b72WrcM5ad5wLiJQtx5C8oTSKkjg2gkk0Pc182hm6obj55Wr328vtb662Xyz3v17dfbF%2b9zt3uw9bGnYi6kSoedDyUHHMo15Eg8DS7GjuCzZPjOCFXsybZjm/PIpA8kAyKyFW/ELWYRlWrdzcXtR694t3R2ivdAfXla3IsixJ0gQjNU/fD94Uz/Nb1cum9hc/Wy8vrcXPneVPgvCTKP0kLFYRdb1o7WdWUNohcYLcDgrbSyzsmGVpR7WDiZdafj7NK7M0E7xf2Qn3EulFjWM%2bJ16vFlfr5QtZXH6SxdHh/nBRyvFXh2HUfDcgmKlQAk4ThfHzqRswaYo5JlEUB0E4CzC0bcdFCyRrP7K8wHYdN/W9zPMzzw0diJfg6x0ngKKul5p9y7HWlmXZT4L5en3asc42p/l6lvUbslgssyw/Hh8vYqo/322Hruv7vtPdMG7Gcex6rDshRNMwISSEMcSyKvIC6r4AwKXnums/tDzPstdu5Pi5C7ED2wltL4Peru3ZTuQ4ke0mjgGwWn/zsVgs4CkGAFzo4XiA/yMMVKuQPRAAAtm0lXkOhY1kef588B9aAAA8d%2b35luv7JQ8qJZvljf6UE9uxVp6zxNOxV%2bvVJMsVTs%2bc4LcJQG0P9/etCWIF1fvOAJhCQiGMy6JE7inK4uT6LwAo1T9ZYAIQNV3MxlGvDrtPr4flw83l/e7ypr9ktbtY2oulBf0XC2u5/PYB3OH0Nc5eSA3FkY20NjWN86oiVYWCRElNSEPSNIXezwBub%2b/xd57jTC7k%2bwUPaqXlctN%2bOrSLXffpqC6H9lKydZYs82SRRIsiXQQ%2bMKy%2b4bi6uoIyTwAeHx4Uii6MoPTQIxwG5FNoJlrR6hZAU8g0zoMYwXA4PAC36zrrOLO9IGVD3l7vBvtxv7rd2nfb1cN%2btdX257fL483q3d1627mstso8cF3f%2b2bDtm2UpCcAx8NhqgNPpQA6YY5qQCmtQReq8jx7ngO4vz8aC7iulRHb86M0j3JSlAk8Li%2bCooqMlGGSBVURMiTuNHLdKAwj/%2b0R%2bP/3cBwH3nFyobs7%2bD1U7/sRquPgpZImdSZJMOV7/5R5zuUcgLGA62Z1G7JNxHZOEHstC0bttdwTzNMiFQyx1DSVYqTM0uVisYLAk85lcbVcLr6yCxG1fTe7kAmDDi6Eh1JKCFOQQc8QwRiB/zEAVpIDAOhQxDapuA7iNDCVtTU1tZfR2Aatqa%2bRoMhSQVGsUDrCaBkESz9Y%2bUgAnu36Tpyi/ADHKWetZmSnuRlfEsTGAtDZ8Ajj%2blBcgNiBdHKYIi%2bRSItz53nDAklhu15O24hvE3HtQ5VBxpsu2vXpqOONDkcVbVSohC2o2ytP0EJzum2bUUKIqsus4dVGli3xCQlIFcBxKxLWZVBVZkmqpILvPWP4MI0q3SP/tKYOdAhi/MAcXACPghGQihAMwUsMLwEYCxgADAB2XpQEkia320CLeGjxzLRgrNaylnWpRE1J3tFqq2kvakVLSjIvK2LCg6JJCI8Ii0oaNjIvaBXlvKKhFwUuQt/9AMDhcAriKQsZJ4KM49aEcms8Cqi4ZGpoCSGe96IOvACQwgJuQVVIx1Re%2b0kaCIqDh%2bdEowpGVZCSlfnIiKryri6HukBL4bv%2bVNpMbV6A71jW0rKuMLEtzBfWGlGyWC7AKWZ3%2blIXQhpFAIMwmOql1ABmZBIR%2bhtFuSHNaEx8L5jYHTJp9DYAzwOAiO/gQsYCisfbLtQCSIAhHHXSsoo3Lcm3om5J0ZAqCnzXsQPPjQMXxSR0cchOFgaR56aBHwdeGhqjv1m6l8sl6Np2uzcA7u/u1HTkswX6YcQSQQAkg5mb0EazhlrGBAXuOR5eAMiRRucY2CXSxIABsOvCvjUWaBniIaNkoARGGCnan6yt8hvZDE0FX%2bKkhH/kcZhGAX6FZ5XGaPTKJAIfRsp/zZ5gDeiATuvJhUzmmVyom1zIGAFFbdwgsSKr6lGhk/Nc/7wUvGWBNkTbyrdenPq8MVmol4E2hB7LUNK2rqA3z5MWQZAkoe8mAfzS8EP4x2JKOiaVIhOZ55Os3iJ/qxVyWAh3MWn04Xg0faNhc1qCSHTKtG0mfZZZVmSgc2UBz/H9j2ShzHacvG4jcT25UOorFl/3eAaQzsRxpDm8KKJVwhp0tXWWZFHAilSRHE9Z5W2VKVJgqepi3pk2c1FkNI/rIgvD8DkMTgBgAW2ykDAEzlRiE68NAbGHfifBGQUfL2SmDngBaXepvCn0bZgVOP50v4HnIAvFo6YtV6zeaM6aSosGTJ3TJvQ9nAoiwXyBh0Rj5uFpZ36GRswE1dSdGMQ80DIgBp4scLw3nMzkHMSuaiWyXV2HYQzmE8Uxsu9r7T8EkFdOlGZyn9Iu42Oc5rGgyaBiyVC8Ms5YVeiG9IxseKObKmOD65u0eD4c93%2bPZy6E19HQGABTP3CE9t0EYOIUJmzBTFHcpBKIXbRjAQiM9%2bV1AJXVtmHXqV9anRqt94KN1XqWp/HUk9nWfJ5Pk2lhn53z%2b03rxYAT4WQnAJMFoLfRdypkoPhQazBjnOiF1oOmrAEnRYp7A4Dnrl5w/LcbFusjv/vq4ywGTg0NejGQCFO%2bTGup6ropS1Th2lwhVaYZQCI6d6cXAFar9fc73gMwZO7xEXqYMjD3Zcrc0IFtF2BBVfkcyt5LTnoGwAMAy3q7%2b/6OBCeGpPTeAnMbqU/lzNhhKsZgGEwyxMBHyBw8dPk0Ft%2bbXF1dQqW%2b3zwBAI1ANzyT6s5M%2bikoBHhEbhri8M2mHgDwMjgfslWel/Az9J/fj6BVZ0x03WgAPBwP4tTOa9VN1Nr0xPAmk4KSBMn0TQB3dwd8xDBsKeWUgoAjv%2buvIZzjD/G9LwT7r3bOX%2bu1HlF/TSEDmZtdCMcJAqen3gwBTSlDPw8Xmm8l3gTQD%2bAdO/Duqmq%2bnpRVTQgtCpLn1Xwtm2ZoQMqa1Nh5FryAUy%2bK9zvQXkr9RObQRCL19KYT6AU6Gc1x9rblTP1k8Fr7U1OPAjJUFZpnNNDy60nTCJAuc5Gmuoayvu8YnJLRu2vTmeR5buppFAPqMJhLN%2bRGLKeR4nvnOnAAA5qoqOr7wdQEY4i24RS5H%2bXvdUf/fCsBR8THgWjj476eRODeATJKNCuamPtMU/6xheSB5/M3YnPaeZ/KkySbY%2bDYqrkBgBeZ%2bxVTC%2bBOEz81vgQKwxsUgw9uJQAALuY47pddAP%2bf8uyTr3de%2b%2b35HPhNDMCF5JQ957sJc80IHoF2GC7Wa4ZmkNP5eF5bAABQB94kS9%2b1nADAAqalNJGLHgAu1BkM8KEWqQWR8GYA/MgAHI%2bIAZQCU7i6%2bXIXtmgbw3/QRWY/dgCHyYXgOXMZNreiQky3olVe5ojjwP9xAzge7qcUZOg0ghjOg8CdAZj/CJbFj9oCRG0ejg/GYyYvMhYQLZe83/RlVSFvQcDiXguathmA%2b8MC4MPNu4cHcP/tdgO53u3GDRYgRcLcR5v/k6XT9fSHkibJEQBqilbP3Hl974I2M46SC3n9eP/wbnd7uD2%2buzu%2b%2b%2bzwuD8er%2b/v9bhr%2b436qOz2h6IWfpwHSfGDSJyT/wK7PYtCmfGeMwAAAABJRU5ErkJggg==' /%3e%3c/svg%3e\" width=\"1952\" alt=\"dnSpy showing assembly level attributes\" data-srcset=\"/assets/static/dnSpy-1952x1319.82a2fbd.9d30a8fda01c0fb4ee8837d7b7d8fbdf.png 480w, /assets/static/dnSpy-1952x1319.cbab2cf.9d30a8fda01c0fb4ee8837d7b7d8fbdf.png 1024w, /assets/static/dnSpy-1952x1319.fb8a13b.9d30a8fda01c0fb4ee8837d7b7d8fbdf.png 1952w\" data-sizes=\"(max-width: 1952px) 100vw, 1952px\" data-src=\"/assets/static/dnSpy-1952x1319.fb8a13b.9d30a8fda01c0fb4ee8837d7b7d8fbdf.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/dnSpy-1952x1319.fb8a13b.9d30a8fda01c0fb4ee8837d7b7d8fbdf.png\" width=\"1952\" alt=\"dnSpy showing assembly level attributes\"></noscript></p>\n<div class=\"line-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token target keyword\">assembly</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">AssemblyVersion</span><span class=\"token attribute-arguments\"><span class=\"token punctuation\">(</span><span class=\"token string\">\"0.0.0.0\"</span><span class=\"token punctuation\">)</span></span></span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token target keyword\">assembly</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">AssemblyFileVersion</span><span class=\"token attribute-arguments\"><span class=\"token punctuation\">(</span><span class=\"token string\">\"0.0.1.0\"</span><span class=\"token punctuation\">)</span></span></span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token target keyword\">assembly</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">AssemblyInformationalVersion</span><span class=\"token attribute-arguments\"><span class=\"token punctuation\">(</span><span class=\"token string\">\"0.0.1+362b09133bfbad28ef8a015c634efdb35eb17122\"</span><span class=\"token punctuation\">)</span></span></span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>If you now run <code class=\"language-text\">dotnet pack</code> to build a NuGet package, you'll notice that it has the correct version. Note that <code class=\"language-text\">0.0.1</code> is a <strong>release</strong> version of our NuGet package i.e. something we might want push to nuget.org in this case.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1177 340' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-efcc6be8ca5dff505c1e083ab4881678'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-efcc6be8ca5dff505c1e083ab4881678)' width='1177' height='340' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAASCAIAAABkTU91AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFV0lEQVRIx81WzYscRRRv/wA9eBMmF/8D8RQ8aC4KuugmGNCIB9HcNCJIMCB4U0FEPSmieDKoJJ4ETxIwhhDJbpzNZmbno6e756Nn%2bmuqv7ur%2bstfd%2b32zsxmkxzE5FFdVFW/rnq/93vvdQmNo68GtpT5nSQrMr8bR85UJ7JGm327O6H/iH6aUIhhGKZRiud5RVHk%2b5KVLav6vKjafylJkqRpihMZYzgdPR/P53MM1t/5RGgcPRX5w4IO0rwowiaNiTiypiS9enP70pZ7te3EkQ8AiiL3SulqmsYBFP%2bLxHHMAQAJjEbPx47jlgDOfCY8%2buTLz3917cS326e%2b23j687%2b/vzLGCxqHlEXcSEZpGEbcYvTYEU4p7p9UhmQzJ77Utdfe/VJ4%2bImTD73x6yNv//74uT%2bEVy68/0urSEJ5OFTVaZZlUJ9N1YEke76P71zHGYgixkACx2QLUgbT8vQwWY7A3TjkG9xLUEGzSOnW0D57offce98Ijz31%2bvWBua36NxRyQ7FVEpUHVFjTFFxRvveyD/ZNqVe43XV0YZwuCKbYi%2bvwsE4qWUReW5jeXbIkLWNp/aPzwpFjpz3PJyaPbLg8Q5AwGuvGnIVmSi4nae65brvd7nQ6oijath0EgaIo3W53Z2en1WohMzANw9CyLOjwdb9ijINBzjmOg4GqqoQQbqbrujDEsW3TNC1rbttE1zRUirll8UC/s5Q8AMDHvwmNZ970gjCK46yMCqAv3%2bDcmNI0iXJqcAtgHExHHYD18BYMwsHIKvRYhDXQiaKIVIIVeKHmCobiLQaoYMBZ8wAF7GY7NtCGYYC3ruv5nodXdw2ktGJ7/Yu/AOCtKKZ73qoCNLGLLAJEUE3ZLqFYxwEoRzgb/cEqtBhTjCVVfuR143HCU5DHMRq2rT/BINub1AqlDqBWpy8ulralFQNf3xQax07vA8jLMzLnGvUGza2WJEmbGxvNZnM6m2F9MpnA8XCzoeu244qKOlJ1cLcAvvoRFKsZclg1Ma25NFJnxhyPPJz0ZZU43sEajbPk0dR2/aUQqlSO/9AXGs%2beWWGgSEjKAoRVEIZplYv8GzAA6%2bHIMKZwQEgTmubZATvz3UpXDuCmNLt9S7KcpXnEUmwSJxlNeF/ut6xZqgUxS/bs4%2busMmr94kw4cvLTKGZ7DFQh5F6P3UG7I7ZatyhltWVwPyK4tKkoIsocz9cMUzcMdTobT9SZpmM603WL2MT1MJjpJoCW%2boc0OAneLZvrWcTxg8ALItvxcCeodbIyT8I5sU08rgfS%2bJ6sjJXipZ/HQuPFD1dzgFl5Ct%2bXv3GE%2bwIAN6oAJDg7inHSdKbJylCSh/hRyMPRaDwZjyeAMdXNvij2RAk0YsdFgxYbMta0CHFc2GaYloskDkLMVwDgt6MblmHNHddHjwTDIgew/qMiNNbOLeRAVcLdTeYPe31pq7mp6VYdlCg1YKBUwJ0jptgPRkuy0helTrfXH0iSUiIZT6aaYUnKqNMTdZNkxaEMwPeaDg4tcIWPiO3MbU83TIbcXQAAu9WpBopVzYB3DItUAKokLnNg7YNVBqiWpz5jKWocLEaFA%2bg6hDgbIAeF0iYERRQV1jJNXdcJmTuOHSISPBdXJtBBiH2HNGYMl5QgqgRnYZowFkfRSlph0fc9KEQIAOhzJ1ZKJ36SlwHs5kCT%2bSNZUQcDsdfrbG3fUifqCoD7LrsALqrCkbWzt2PAAwPwcUlBFPKfzkEA93J1uVst3b8aLZSx4nY/mf17VA3gtT91ofHC2dUccK4zX0EODBW53b6102nzYv8AMrB%2bxVwGcEepk/jBAXD8svEvHVXXVftofSUAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"1177\" alt=\"NuGet package with release version set to 0.0.1\" data-srcset=\"/assets/static/NuGet-Package-With-Version-1177x340.82a2fbd.c009bed9a87a303949a097758191637f.png 480w, /assets/static/NuGet-Package-With-Version-1177x340.e0fa3be.c009bed9a87a303949a097758191637f.png 1177w\" data-sizes=\"(max-width: 1177px) 100vw, 1177px\" data-src=\"/assets/static/NuGet-Package-With-Version-1177x340.e0fa3be.c009bed9a87a303949a097758191637f.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/NuGet-Package-With-Version-1177x340.e0fa3be.c009bed9a87a303949a097758191637f.png\" width=\"1177\" alt=\"NuGet package with release version set to 0.0.1\"></noscript></p>\n<p>Now lets make a random change in our repository and then rebuild and repack our NuGet package:</p>\n<div class=\"line-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">git add <span class=\"token punctuation\">.</span>\ngit commit <span class=\"token operator\">-</span>m <span class=\"token string\">\"Some changes\"</span>\ndotnet build\ndotnet pack</code></pre></div>\n<p>Now MinVer has automatically generated a <strong>pre-release</strong> version of our NuGet package. The patch version has been automatically incremented, a pre-release name <code class=\"language-text\">preview</code> has been given with a pre-release version of <code class=\"language-text\">0</code>. We also have a git height of one because we have made one commit since our last release and we still have the git commit SHA too:</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1180 342' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-a72921f19328b5514103e75209557a1d'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-a72921f19328b5514103e75209557a1d)' width='1180' height='342' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAATCAIAAACvEZzQAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFiElEQVRIx81WyY8UVRjvePLgG0n4KxRwxIDggCh4IaCMB5EYJCouiKJxOekfwMWDJhoPIJHEcDEsnghBIlEJYiAIw/T0Ur13VXfte3V3re3vVdE1vQwDURP88vXrV9979b1v/b3KkEd2Tq16njy6nazeRVbtfHj1jhVrdqycfmHF9OzKtbNkzSx5bJZMv0j58Zem1u4Gkyf2kHWvkHV7yZP7yMY3yKZ3yOaDlGfeJhteI%2bv3UsbShtfJxv1k5k0y8xZlbNt0gGx%2bd8DvkS2HyDMfkmc/Ils/IdvAH5OtMW/7lDwXP2Ip4S3vk6cPTm0%2bMPXUfnpEzFPrX31wencmu3CzUbtR5ZRadb7eqBcr7HypffFaI1vif7/BNdh2s8XX2XbCDU5geYmbYFaQWVHlRI3DKCgcL1OGEPMBD89HhPTFcWbTSbpHUOqc0GzHZwlypdEybfuLY6czplnth4Wo3%2b97c2Eg5Uq8oEc/X53/7ZZ66rLVcWzf83rdrmWZjm05jt2/fxQGfhSGybznuhiPnryQ%2bfzk3OFz1cNni5%2bdXjh1vdXvR0EY%2bqHr%2bUEYYX8QDN6Joiigsuh%2bOZAeDBt8P9Dd/pcnzmcyu354YN9PDx06m9l%2b4uWv/oyCXqNRbzRZz/OwVZUlplRWVRXzIPBrtSovCImKMRoTjhw8uiEVLrnnXgi2WXbngx8rew6fyXxzPn/8D%2b77S/VvL1Z/yUlQ5cO7hEI67/V64SAJeHRdd/KkiOZqJDnBEIU0jwHepWWA9Mb6E2HyVhhT4kMiX56gwPU8P4y%2bPnM5Y5hWP3SjoYOhwrIs1%2b1G5l%2b%2b10ExCQLfjglyHG8YhhBTs9mEUBRFyBEVWZbx2Gq1IBl2xo0JErzS7XYTWx3HwQSjDbbpYBoG9Ng2jgjumgQUOO2Bczcysma0ecH14JPfw18cfdOyer1OaN70XMd1vUajUS6Xa7Ua7IMpqKgypQok9K9SgUuwDKYnEpZl06SBOp0OVmE0z/OYJ/GG6Qg3VKEmFUXRNU2kJCEKSfUuX2AIP8YjF/IZ03YmK3JpEIhtGiuVyQPSkkgpWUVchleXOXFMw%2b2do0I3ztKRX%2btwoDNwgO4LrVuRU6zWOJQHwxSYEsNxHOQIEuKKiSRJyLgka6KsoZPGYpM8JuV%2b13Bouikqum7amPCi3BLVxJgxQvpkVbdGl5IMHL3UGs5ADBSeGnm6KMq6rsPWNt/GBHIYjQm2maZJq0gzJdVI3v2HoB6GaD84YFqOplswUZB12%2blO7uz1XEFUDctZwoFrChzojjhg53yriHu0xBSdTpqcPooYpqfBBhAALJJcUzwIU6gJBiWTYErkx9vuiJK3hVF/gLNQMb4zWaIHhEkdLjpwXc2YzqgDnoIMILaapsGy1AE0Hzo1mcfBMwE3%2bXyuWMhnswu5hWwuX6hWywzDsCxXosQUigXa0ChBto7VuZtzwIjhYtM0FW2NPAOdsEtTVdrCouiNVmDHcaATemRZAU4AqRYduCpP9sBC6JQESatVS1yrnYRzzAGMgD0ogpPAPlXV0CHAE3xuxCMl1BtW8Qp2xhBpwjgUw/C9ihvGGRDwE4/dbq9LYWoUcHwfCoG1VvwtA1p04Io47gDNgI%2bOcQD9UDoMhcMZwJIoiAVKyECukM8VGKZWA6JW2m2eialQLJbpY7vJNpGoW9mFer2ephRj0mZKHPg2zxu6LiuqLEve6D0At6CE5%2bmPwi7PI6rxNdD/7gq/RAYipyRKGlCoWi3liwwugdSB4QJYBgTvhLPDl8O/pEEPKEtlwNNsG5%2bflkGrQEd5TDpwjxb/t19y0YQDx%2be1yQxkI4fhRRU9ioxXKiX6rbGsA/eF/NibYyVj3IE%2b7gHfQPtpMUmyhHvkf%2bvAEcb4Gyk3H2qlWLqYAAAAAElFTkSuQmCC' /%3e%3c/svg%3e\" width=\"1180\" alt=\"NuGet package with pre-release version set to 0.0.2-preview.0.1\" data-srcset=\"/assets/static/NuGet-Package-With-PreRelease-Version-1180x342.82a2fbd.4e3561688b7b29314b587bd571cdb03a.png 480w, /assets/static/NuGet-Package-With-PreRelease-Version-1180x342.6fb62a7.4e3561688b7b29314b587bd571cdb03a.png 1180w\" data-sizes=\"(max-width: 1180px) 100vw, 1180px\" data-src=\"/assets/static/NuGet-Package-With-PreRelease-Version-1180x342.6fb62a7.4e3561688b7b29314b587bd571cdb03a.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/NuGet-Package-With-PreRelease-Version-1180x342.6fb62a7.4e3561688b7b29314b587bd571cdb03a.png\" width=\"1180\" alt=\"NuGet package with pre-release version set to 0.0.2-preview.0.1\"></noscript></p>\n<p>If we crack open our DLL and view it's assembly level attributes again, we'll see more details:</p>\n<div class=\"line-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token target keyword\">assembly</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">AssemblyVersion</span><span class=\"token attribute-arguments\"><span class=\"token punctuation\">(</span><span class=\"token string\">\"0.0.0.0\"</span><span class=\"token punctuation\">)</span></span></span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token target keyword\">assembly</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">AssemblyFileVersion</span><span class=\"token attribute-arguments\"><span class=\"token punctuation\">(</span><span class=\"token string\">\"0.0.2.0\"</span><span class=\"token punctuation\">)</span></span></span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token target keyword\">assembly</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">AssemblyInformationalVersion</span><span class=\"token attribute-arguments\"><span class=\"token punctuation\">(</span><span class=\"token string\">\"0.0.2-preview.0.1+7af23ee0f769ddf0eb8991d59ad09dcbc8d82855\"</span><span class=\"token punctuation\">)</span></span></span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>Now at this stage you could make some more commits and you'd see the major, minor and patch versions stay the same but the preview version, git height and git SHA would change. Eventually though, you will want to get another <strong>release</strong> version of your NuGet package ready. Well, this is as simple as creating another git tag:</p>\n<div class=\"line-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">git tag <span class=\"token operator\">-</span>a 0<span class=\"token punctuation\">.</span>0<span class=\"token punctuation\">.</span>2 <span class=\"token operator\">-</span>m <span class=\"token string\">\"The next amazing version\"</span>\ngit push <span class=\"token operator\">--</span>tags\ndotnet build</code></pre></div>\n<p>Now you can simply take the latest <code class=\"language-text\">0.0.2</code> release and push it to nuget.org.</p>\n<h1 id=\"nerdbankgitversioning\"><a href=\"#nerdbankgitversioning\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"22\" height=\"22\" aria-hidden=\"true\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nerdbank.GitVersioning</h1>\n<p>There is a more popular competitor to MinVer out there called <a href=\"https://github.com/dotnet/Nerdbank.GitVersioning\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Nerdbank.GitVersioning</a> which is part of the .NET Foundation and is worth talking about because it works slightly differently. It requires you to have a <code class=\"language-text\">version.json</code> file in your repository to contain the version information, instead of using Git tags.</p>\n<div class=\"line-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"$schema\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://raw.githubusercontent.com/dotnet/Nerdbank.GitVersioning/master/src/NerdBank.GitVersioning/version.schema.json\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0-beta\"</span>\n  <span class=\"token comment\">// This file can get very complicated...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In my opinion, this is not as nice. Git tags are an underused feature of Git and using them to tag release versions of your packages is a great use case. Git allows you to checkout code from a tag, so you can easily view the code in a package just by knowing it's version.</p>\n<div class=\"line-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">git checkout 0<span class=\"token punctuation\">.</span>0<span class=\"token punctuation\">.</span>1</code></pre></div>\n<p>Having a version number in a file, also means lots of commits just to edit the version number.</p>\n<h1 id=\"conclusions\"><a href=\"#conclusions\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"22\" height=\"22\" aria-hidden=\"true\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusions</h1>\n<p>MinVer is an easy way to version your NuGet packages and DLL's. It also comes with a CLI tool that you can use to version other things like Docker images which I'll cover in another post. If you'd like to see an example of MinVer in action, you can try my <a href=\"https://github.com/Dotnet-Boxed/Templates\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Dotnet Boxed</a> NuGet package project template by running a few simple commands to create a new project:</p>\n<div class=\"line-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">dotnet new <span class=\"token operator\">--</span>install Boxed<span class=\"token punctuation\">.</span>Templates\ndotnet new nuget <span class=\"token operator\">--</span>name <span class=\"token string\">\"MyProject\"</span></code></pre></div>\n","heroImage":"/images/hero/Semantic-Versioning-1600x900.png"}},"context":{}}